// ------------------------------------------------------------
// _utils.scss
//
// variables, functions, mixins, placeholders go here.
//
// ------------------------------------------------------------

@import "../fonts/icons/entypo";

// ------------------------------------------------------------
// FUNCTIONS
// ------------------------------------------------------------

// ------------------------------------------------------------
// PLACEHOLDERS
// ------------------------------------------------------------

%fullwidth {
  margin-left: -1 * $grid-column-gutter;
  margin-right: -1 * $grid-column-gutter;
  padding-left: $grid-column-gutter;
  padding-right: $grid-column-gutter;
}

%fullwidthbg {
  position: relative;
  
  &:before,
  &:after {
    content: '';
    position: absolute;
    display: block;
    background: inherit;
    height: 100%;
    width: 200%;
    top: 0;
  }
}

%invisible {
  position: absolute !important;
  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
  clip: rect(1px, 1px, 1px, 1px);
}

// create placeholders for all icon classes
// for reference: http://gumbyframework.com/docs/ui-kit/#!/icons
// use like:
// &:before { @extend %icon-ICON_NAME; }
@each $icon in $entypo-icons {
  %#{nth($icon, 1)} {
    content: "#{nth($icon, 2)}";
    height: inherit;
    font-family: entypo;
    display: inline-block;
    min-width: 1em;
    color: inherit;
  }
}


// ------------------------------------------------------------
// MIXINS
// ------------------------------------------------------------

// SVG mixin with fallback; requires modernizr classes
@mixin svg($image_name, $w: 100%, $h: auto, $repeat: no-repeat, $extention: '.png') {
  width: $w;
  height: $h;
  background-size: $w $h;
  background-repeat: $repeat;

  & { background-image: url($image_name + $extention) } //fallback
  .svg & { background-image: url($image_name + '.svg') }
}

// Full width background (left, rigt or both)
@mixin fullwidthbg($dir: 'both') {
  @extend %fullwidthbg;
  
  @if ($dir == 'left') { &:before{ content: ''; right: 100% } }
  @elseif ($dir == 'right') {  &:after{ content: ''; left: 100% } }
  @else {
    &:before{ content: ''; right: 100% }
    &:after{ content: ''; left: 100% }  
  }
}

// font-face mixin from compass
@mixin font-face($name, $font-files, $eot: false, $weight: false, $style: false) {
  $iefont: unquote("#{$eot}?#iefix");
  @font-face {
    font-family: quote($name);
    @if $eot {
      src: url($eot);
      $font-files: url($iefont) unquote("format('embedded-opentype')"), $font-files;
    }
    src: $font-files;
    @if $weight {
      font-weight: $weight;
    }
    @if $style {
      font-style: $style;
    }
  }
}
